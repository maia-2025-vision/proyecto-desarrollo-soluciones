schema: '2.0'
stages:
  train-v1:
    cmd: cow_detect/train/teo/train_v1.py --cfg 
      cow_detect/train/teo/train_cfg_v1.yaml  --train-data data/sky/Dataset1 
      --save-path data/training/teo/v1/faster-rcnn/
    deps:
    - path: cow_detect/train/teo/train_cfg_v1.yaml
      hash: md5
      md5: 2c7397fa13f9bd5d6c8fc0abe586b8a5
      size: 911
    - path: data/sky/Dataset1
      hash: md5
      md5: b92f3590e07a3f9a6b62f17dde029e18.dir
      size: 3447187507
      nfiles: 1314
    outs:
    - path: data/training/teo/v1/faster-rcnn/
      hash: md5
      md5: b27a7b663a47a0f521798e94c75ede4f.dir
      size: 165705411
      nfiles: 3
  train-v1-toy:
    cmd: python cow_detect/train/teo/train_v1.py --cfg 
      cow_detect/train/teo/train_cfg_toy.yaml  --train-data data/sky/Dataset1 
      --save-path data/training/teo/v1/faster-rcnn-toy/
    deps:
    - path: cow_detect/train/teo/train_cfg_toy.yaml
      hash: md5
      md5: 17a12dd8e91a2f689cd7f0aaf625a60a
      size: 301
    - path: data/sky/Dataset1
      hash: md5
      md5: b92f3590e07a3f9a6b62f17dde029e18.dir
      size: 3447187507
      nfiles: 1314
    outs:
    - path: data/training/teo/v1/faster-rcnn-toy/
      hash: md5
      md5: 629c3cf17765c875eb9e4f14ef88ba6b.dir
      size: 165705362
      nfiles: 3
  std-sky-ds1:
    cmd: cow_detect/utils/standardize.py data/sky/Dataset1 --kind sky --out 
      data/standardized/sky.dataset1.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/sky/Dataset1
      hash: md5
      md5: b92f3590e07a3f9a6b62f17dde029e18.dir
      size: 3447187507
      nfiles: 1314
    outs:
    - path: data/standardized/sky.dataset1.jsonl
      hash: md5
      md5: 314f57c2459eb37ce238aec6b38cb0ab
      size: 350340
  std-sky-ds2:
    cmd: cow_detect/utils/standardize.py data/sky/Dataset2 --kind sky --out 
      data/standardized/sky.dataset2.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/sky/Dataset2
      hash: md5
      md5: 9df096af73b668307c557a3fb1e7439d.dir
      size: 77288760
      nfiles: 29
    outs:
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
  std-icaerus-derval:
    cmd: cow_detect/utils/standardize.py data/icaerus/Derval --kind icaerus 
      --out data/standardized/icaerus.derval.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/icaerus/Derval
      hash: md5
      md5: 85eebfde63d9615819d5141532b370c9.dir
      size: 1050554352
      nfiles: 378
    outs:
    - path: data/standardized/icaerus.derval.jsonl
      hash: md5
      md5: 9064a73cbaed6bcf0490c4305843c019
      size: 71877
  std-icaerus-jalogny:
    cmd: cow_detect/utils/standardize.py data/icaerus/Jalogny --kind icaerus 
      --out data/standardized/icaerus.jalogny.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/icaerus/Jalogny
      hash: md5
      md5: 16450e1a1b4a72a7b24fe858360a7a80.dir
      size: 6913811352
      nfiles: 1453
    outs:
    - path: data/standardized/icaerus.jalogny.jsonl
      hash: md5
      md5: da05ce1bbfdf24bf99b0554713d44d03
      size: 327079
  std-icaerus-mauron:
    cmd: cow_detect/utils/standardize.py data/icaerus/Mauron --kind icaerus 
      --out data/standardized/icaerus.mauron.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/icaerus/Mauron
      hash: md5
      md5: 4d50fd90bd1005131daa02a1be0fd962.dir
      size: 7956727061
      nfiles: 1945
    outs:
    - path: data/standardized/icaerus.mauron.jsonl
      hash: md5
      md5: e202ad08a9228693670c314d8342576e
      size: 482834
  std-icaerus-other:
    cmd: python cow_detect/utils/standardize.py data/icaerus/Other_farms --kind 
      icaerus --out data/standardized/icaerus.other.jsonl
    deps:
    - path: cow_detect/utils/standardize.py
      hash: md5
      md5: 32ee6f58c8a19f2f2d889b1c4715ecd4
      size: 11262
      isexec: true
    - path: data/icaerus/Other_farms
      hash: md5
      md5: 32fe3e0aa809c102346edd690167804a.dir
      size: 768004208
      nfiles: 126
    outs:
    - path: data/standardized/icaerus.other.jsonl
      hash: md5
      md5: 5f049cb325d93a5fcdff29e1cc02d57f
      size: 38681
  eval-v1-sky2:
    cmd: cow_detect/eval/evaluate.py data/training/teo/v1/faster-rcnn/model.pth 
      data/standardized/sky.dataset2.jsonl --out data/evaluation/eval-v1-sky2
    deps:
    - path: cow_detect/eval/evaluate.py
      hash: md5
      md5: ff2f782c9396c1e54679186b37b16fed
      size: 11218
      isexec: true
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    - path: data/training/teo/v1/faster-rcnn/model.pth
      hash: md5
      md5: a70730bcffda54ee5d5f539b06634057
      size: 165704279
    outs:
    - path: data/evaluation/eval-v1-sky2
      hash: md5
      md5: 25522be24f3b5b1b21c7491d9dd02d8d.dir
      size: 36142
      nfiles: 2
  std-sky-all:
    cmd: cat data/standardized/sky.dataset1.jsonl 
      data/standardized/sky.dataset2.jsonl  > data/standardized/sky.all.jsonl
    deps:
    - path: data/standardized/sky.dataset1.jsonl
      hash: md5
      md5: 314f57c2459eb37ce238aec6b38cb0ab
      size: 350340
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    outs:
    - path: data/standardized/sky.all.jsonl
      hash: md5
      md5: 829a9d4f9e2e3c0d8cbfbd95cc3b1f58
      size: 359106
  std-icaerus-all:
    cmd: cat data/standardized/icaerus.derval.jsonl 
      data/standardized/icaerus.jalogny.jsonl 
      data/standardized/icaerus.mauron.jsonl 
      data/standardized/icaerus.other.jsonl > 
      data/standardized/icaerus.all.jsonl
    deps:
    - path: data/standardized/icaerus.derval.jsonl
      hash: md5
      md5: 9064a73cbaed6bcf0490c4305843c019
      size: 71877
    - path: data/standardized/icaerus.jalogny.jsonl
      hash: md5
      md5: da05ce1bbfdf24bf99b0554713d44d03
      size: 327079
    - path: data/standardized/icaerus.mauron.jsonl
      hash: md5
      md5: e202ad08a9228693670c314d8342576e
      size: 482834
    - path: data/standardized/icaerus.other.jsonl
      hash: md5
      md5: 5f049cb325d93a5fcdff29e1cc02d57f
      size: 38681
    outs:
    - path: data/standardized/icaerus.all.jsonl
      hash: md5
      md5: e29aaf920d9dda94957349045d719931
      size: 920471
  train-v2-sky1:
    cmd: python cow_detect/train/teo/train_v2_std.py --cfg 
      cow_detect/train/teo/train_cfg_v2.yaml --device cpu --train-data 
      data/standardized/sky.dataset1.jsonl --train-data-fraction 0.3 
      --valid-data data/standardized/sky.dataset2.jsonl --valid-data-fraction 
      1.0 --save-path data/training/teo/v2-sky1
    deps:
    - path: data/standardized/sky.dataset1.jsonl
      hash: md5
      md5: 314f57c2459eb37ce238aec6b38cb0ab
      size: 350340
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    outs:
    - path: data/training/teo/v2-sky1
      hash: md5
      md5: 86137c82e3edc51abe03b038a2de90d3.dir
      size: 165705546
      nfiles: 3
  train-v2-toy:
    cmd: python cow_detect/train/teo/train_v2_std.py --cfg 
      cow_detect/train/teo/train_cfg_v2.yaml --device cpu --train-data 
      data/standardized/sky.dataset1.jsonl --train-data-fraction 0.002 
      --valid-data data/standardized/sky.dataset2.jsonl --valid-data-fraction 
      0.2 --save-path data/training/teo/v2-sky1-toy
    deps:
    - path: data/standardized/sky.dataset1.jsonl
      hash: md5
      md5: 314f57c2459eb37ce238aec6b38cb0ab
      size: 350340
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    outs:
    - path: data/training/teo/v2-sky1-toy
      hash: md5
      md5: 0751bf4a1902e2e78b3e7c7a931b7c56.dir
      size: 165705573
      nfiles: 3
  train-v2-derval:
    cmd: python cow_detect/train/teo/train_v2_std.py --device cpu --cfg 
      cow_detect/train/teo/train_cfg_v2.yaml --train-data 
      data/standardized/icaerus.derval.jsonl --train-data-fraction 1.0 
      --valid-data data/standardized/icaerus.jalogny.jsonl --valid-data-fraction
      0.25 --save-path data/training/teo/v2-derval
    deps:
    - path: cow_detect/train/teo/train_cfg_v2.yaml
      hash: md5
      md5: 6f2f1188ff0cf5735248b1a20a32ec53
      size: 275
    - path: data/standardized/icaerus.derval.jsonl
      hash: md5
      md5: 9064a73cbaed6bcf0490c4305843c019
      size: 71877
    - path: data/standardized/icaerus.jalogny.jsonl
      hash: md5
      md5: da05ce1bbfdf24bf99b0554713d44d03
      size: 327079
    outs:
    - path: data/training/teo/v2-derval
      hash: md5
      md5: 0e0bc9c45c8f77f91573cceb6a5723ef.dir
      size: 165705572
      nfiles: 3
  eval-v2-sky1-over-sky2:
    cmd: cow_detect/eval/evaluate.py data/training/teo/v2-sky1/model.pth 
      data/standardized/sky.dataset2.jsonl --out 
      data/evaluation/eval-v2-sky1-over-sky2
    deps:
    - path: cow_detect/eval/evaluate.py
      hash: md5
      md5: cf33ebfb320d1d5fbaae8ffb54e0154b
      size: 12280
      isexec: true
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    - path: data/training/teo/v2-sky1/model.pth
      hash: md5
      md5: d990a62626435964246a497a3d694d2d
      size: 165704279
    outs:
    - path: data/evaluation/eval-v2-sky1-over-sky2
      hash: md5
      md5: 8a58553516d1217d2807f2aea1de058e.dir
      size: 32582
      nfiles: 2
  eval-v2-derval-over-mauron:
    cmd: cow_detect/eval/evaluate.py data/training/teo/v2-derval/model.pth 
      data/standardized/icaerus.mauron.jsonl --out 
      data/evaluation/eval-v2-derval-over-mauron
    deps:
    - path: cow_detect/eval/evaluate.py
      hash: md5
      md5: ff2f782c9396c1e54679186b37b16fed
      size: 11218
      isexec: true
    - path: data/standardized/icaerus.mauron.jsonl
      hash: md5
      md5: e202ad08a9228693670c314d8342576e
      size: 482834
    - path: data/training/teo/v2-derval/model.pth
      hash: md5
      md5: 1b635bed4abbbbd9dcaf165b40deecce
      size: 165704279
    outs:
    - path: data/evaluation/eval-v2-derval-over-mauron
      hash: md5
      md5: 55ef12a380a1e3d53aaea28fdb87ae1d.dir
      size: 160767
      nfiles: 2
  eval-v1-over-sky2:
    cmd: cow_detect/eval/evaluate.py data/training/teo/v1/faster-rcnn/model.pth 
      data/standardized/sky.dataset2.jsonl --out 
      data/evaluation/eval-v1-over-sky2
    deps:
    - path: cow_detect/eval/evaluate.py
      hash: md5
      md5: cf33ebfb320d1d5fbaae8ffb54e0154b
      size: 12280
      isexec: true
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    - path: data/training/teo/v1/faster-rcnn/model.pth
      hash: md5
      md5: d31635a041c10e013c94c1bcdb4327ff
      size: 165704279
    outs:
    - path: data/evaluation/eval-v1-over-sky2
      hash: md5
      md5: b7ce5ccc3583af93437ad19dfd340dca.dir
      size: 36494
      nfiles: 2
  train-v2-1-sky1:
    cmd: python cow_detect/train/teo/train_v2_std.py --cfg 
      cow_detect/train/teo/train_cfg_v2-1.yaml --device cuda --train-data 
      data/standardized/sky.dataset1.jsonl --train-data-fraction 1.0 
      --valid-data data/standardized/sky.dataset2.jsonl --valid-data-fraction 
      1.0 --save-path data/training/teo/v2-1-sky1
    deps:
    - path: cow_detect/train/teo/train_cfg_v2-1.yaml
      hash: md5
      md5: eb0bb735a3d8b96e4ababc5254958bc5
      size: 302
    - path: data/standardized/sky.dataset1.jsonl
      hash: md5
      md5: 314f57c2459eb37ce238aec6b38cb0ab
      size: 350340
    - path: data/standardized/sky.dataset2.jsonl
      hash: md5
      md5: 6ed894c1a47b64ea9f517b1276de9f16
      size: 8766
    outs:
    - path: data/training/teo/v2-1-sky1
      hash: md5
      md5: b6600e8f676e7c3d3462f1e44841bc2c.dir
      size: 165709551
      nfiles: 3
  eval-v2-derval-over-jalogny:
    cmd: cow_detect/eval/evaluate.py data/training/teo/v2-derval/model.pth 
      data/standardized/icaerus.jalogny.jsonl --out 
      data/evaluation/eval-v2-derval-over-jalogny
    deps:
    - path: cow_detect/eval/evaluate.py
      hash: md5
      md5: cf33ebfb320d1d5fbaae8ffb54e0154b
      size: 12280
      isexec: true
    - path: data/standardized/icaerus.jalogny.jsonl
      hash: md5
      md5: da05ce1bbfdf24bf99b0554713d44d03
      size: 327079
    - path: data/training/teo/v2-derval/model.pth
      hash: md5
      md5: 1b635bed4abbbbd9dcaf165b40deecce
      size: 165704279
    outs:
    - path: data/evaluation/eval-v2-derval-over-jalogny
      hash: md5
      md5: b22c4bbe68a9d9d703ec5109d40229ee.dir
      size: 1827829
      nfiles: 2
